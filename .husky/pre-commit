#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

echo "Running pre-commit checks: verify-naming (staged files only), lint-staged"
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '^components\/(ui|modules)\/' | grep -E '\.(ts|tsx)$' || true)
if [ -n "$STAGED_FILES" ]; then
	node ./scripts/verify-naming.mjs $STAGED_FILES
fi
npx lint-staged
